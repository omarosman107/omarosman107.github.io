
<!DOCTYPE html><html class=''>
<head>

   <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">

            <link async href="css/feed.css" rel="stylesheet">
                  <link async href="css/font-awesome.min.css" rel="stylesheet">
                  <style type="text/css">


            </style>
            
 <!-- Compiled and minified CSS -->
 <link href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet">

  <!-- Compiled and minified JavaScript -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
          




 
</head>
<body>
<div class="contain">
<p style="    padding-top: 20px;
    padding-left: 25px;">Made By <a href="https://twitter.com/itsMangoPlays">@itsMangoPlays </a></p>
  <h1 style="text-align:center;font-size:xx-large;padding-top: 100px;">EPISODES</h1>


<div class="box">
  <div class="container-1">
      <span class="icon"><i class="fa fa-search"></i></span>
      <input oninput="query(this.value)"  type="search" id="search" placeholder="Search..." />
  </div>
  <span id="results"></span>
</div>
<h1>CONTINUE WATCHING</h1>

<div class="fanarts-list list-unstyled list-inline shows" id="watching">

</div>
<h1>SHOWS</h1>
<div class="shows" id="tvShows">
  

</div>
<div style="display: none;" class="nextContainer">
    <a id="left-buttontv"  class="btn-floating btn-large waves-effect waves-light red" value="left"><i class="material-icons">chevron_left</i></a>

    <a id="right-buttontv" class="btn-floating btn-large waves-effect waves-light red"  style="float: right;" value="right"><i class="material-icons">chevron_right</i></a>
  
</div>




<div class="loaderHolder">
<svg id="fox" class="spinner1" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
   <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
</svg>
<svg id="cw"  class="spinner1" width="65px" height="65px" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg">
   <circle class="path" fill="none" stroke-width="6" stroke-linecap="round" cx="33" cy="33" r="30"></circle>
</svg>


</div>



   <ul id="carasoul" class="fanarts-list list-unstyled list-inline">
</ul>
<div class="header">
<hr>
<div class="logo ">
  <img  width="100%" src="logow.svg">  

</div>

</div>
   </div>

   <script type="text/javascript" src="js/fetch.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

 <!-- <link async rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
   <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
<-->
<script>
/*
function is_touch_device() {
  return 'ontouchstart' in window        // works on most browsers 
      || navigator.maxTouchPoints;       // works on IE10/11 and Surface
};
if(is_touch_device){
            $('#left-buttontv').hide()
            $('#right-buttontv').hide()

}
$('#left-buttontv').show()
            $('#right-buttontv').show()
 $(function () {
        var outer = $('#tvShows');

        $('#left-buttontv').click(function () {
           var leftPos = outer.scrollLeft();
           outer.animate({ scrollLeft: leftPos - 900 }, 200);
        });

        $('#right-buttontv').click(function () {
           var leftPos = outer.scrollLeft();
           outer.animate({ scrollLeft: leftPos + 900 }, 200);
        });
     });

*/

function results(num){
  var res = num + " results found"
  if(num == 1){
res = "one result found"
  }
   if(num == 0){
res = "no results found"
  }
     if(num == null){
res = ""
  }
  document.getElementById('results').innerHTML =  res
}
!function(a,b){"function"==typeof define&&define.amd?define([],b):"object"==typeof exports?module.exports=b():a.LazyLoad=b()}(this,function(){function a(){k||(j={elements_selector:"img",container:window,threshold:300,throttle:150,data_src:"original",data_srcset:"original-set",class_loading:"loading",class_loaded:"loaded",skip_invisible:!0,callback_load:null,callback_error:null,callback_set:null,callback_processed:null},k=!0)}function b(a,b,c){function d(){return window.innerWidth||l.documentElement.clientWidth||document.body.clientWidth}function e(){return window.innerHeight||l.documentElement.clientHeight||document.body.clientHeight}function f(a){return a.getBoundingClientRect().top+m-l.documentElement.clientTop}function g(a){return a.getBoundingClientRect().left+n-l.documentElement.clientLeft}function h(){var d;return d=b===window?e()+m:f(b)+b.offsetHeight,d<=f(a)-c}function i(){var e;return e=b===window?d()+window.pageXOffset:g(b)+d(),e<=g(a)-c}function j(){var d;return d=b===window?m:f(b),d>=f(a)+c+a.offsetHeight}function k(){var d;return d=b===window?n:g(b),d>=g(a)+c+a.offsetWidth}var l,m,n;return l=a.ownerDocument,m=window.pageYOffset||l.body.scrollTop,n=window.pageXOffset||l.body.scrollLeft,!(h()||j()||i()||k())}function c(){var a=new Date;return a.getTime()}function d(a,b){var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=a[c]);for(c in b)b.hasOwnProperty(c)&&(d[c]=b[c]);return d}function e(a){return Array.prototype.slice.call(a)}function f(a,b){var c=a.parentElement;if("PICTURE"===c.tagName)for(var d=0;d<c.children.length;d++){var e=c.children[d];if("SOURCE"===e.tagName){var f=e.getAttribute("data-"+b);f&&e.setAttribute("srcset",f)}}}function g(a,b,c){var d=a.tagName,e=a.getAttribute("data-"+c);if("IMG"===d){f(a,b);var g=a.getAttribute("data-"+b);return g&&a.setAttribute("srcset",g),void(e&&a.setAttribute("src",e))}return"IFRAME"===d?void(e&&a.setAttribute("src",e)):void(e&&(a.style.backgroundImage="url("+e+")"))}function h(a,b){return function(){return a.apply(b,arguments)}}function i(b){a(),this._settings=d(j,b),this._queryOriginNode=this._settings.container===window?document:this._settings.container,this._previousLoopTime=0,this._loopTimeout=null,this._handleScrollFn=h(this.handleScroll,this),window.addEventListener("resize",this._handleScrollFn),this.update()}var j,k=!1;return i.prototype._showOnAppear=function(a){function b(){a.removeEventListener("load",c),a.classList.remove(d.class_loading),d.callback_error&&d.callback_error(a)}function c(){null!==d&&(d.callback_load&&d.callback_load(a),a.classList.remove(d.class_loading),a.classList.add(d.class_loaded),a.removeEventListener("load",c),a.removeEventListener("error",b))}var d=this._settings;"IMG"!==a.tagName&&"IFRAME"!==a.tagName||(a.addEventListener("load",c),a.addEventListener("error",b),a.classList.add(d.class_loading)),g(a,d.data_srcset,d.data_src),d.callback_set&&d.callback_set(a)},i.prototype._loopThroughElements=function(){var a,c,d=this._settings,e=this._elements,f=e?e.length:0,g=[];for(a=0;a<f;a++)c=e[a],d.skip_invisible&&null===c.offsetParent||b(c,d.container,d.threshold)&&(this._showOnAppear(c),g.push(a),c.wasProcessed=!0);for(;g.length>0;)e.splice(g.pop(),1),d.callback_processed&&d.callback_processed(e.length);0===f&&this._stopScrollHandler()},i.prototype._purgeElements=function(){var a,b,c=this._elements,d=c.length,e=[];for(a=0;a<d;a++)b=c[a],b.wasProcessed&&e.push(a);for(;e.length>0;)c.splice(e.pop(),1)},i.prototype._startScrollHandler=function(){this._isHandlingScroll||(this._isHandlingScroll=!0,this._settings.container.addEventListener("scroll",this._handleScrollFn))},i.prototype._stopScrollHandler=function(){this._isHandlingScroll&&(this._isHandlingScroll=!1,this._settings.container.removeEventListener("scroll",this._handleScrollFn))},i.prototype.handleScroll=function(){var a,b,d;this._settings&&(b=c(),d=this._settings.throttle,0!==d?(a=d-(b-this._previousLoopTime),a<=0||a>d?(this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._previousLoopTime=b,this._loopThroughElements()):this._loopTimeout||(this._loopTimeout=setTimeout(h(function(){this._previousLoopTime=c(),this._loopTimeout=null,this._loopThroughElements()},this),a))):this._loopThroughElements())},i.prototype.update=function(){this._elements=e(this._queryOriginNode.querySelectorAll(this._settings.elements_selector)),this._purgeElements(),this._loopThroughElements(),this._startScrollHandler()},i.prototype.destroy=function(){window.removeEventListener("resize",this._handleScrollFn),this._loopTimeout&&(clearTimeout(this._loopTimeout),this._loopTimeout=null),this._stopScrollHandler(),this._elements=null,this._queryOriginNode=null,this._settings=null},i});

function addJS(url) {
   var s = document.createElement('script'); // Create a script element
   s.type = "text/javascript"; // optional in html5
   s.async = true; // asynchronous? true/false
   s.src = url;
   var fs = document.getElementsByTagName('script')[0]; // Get the first script
   fs.parentNode.insertBefore(s, fs);
};

function query(q,obj){
    if (q == null) {
   q = obj.getAttribute('show')
//   document.body.style.background = 'url(' + obj.getAttribute('bg') + ") no-repeat center center fixed";
  };

  document.getElementById('search').value = q

  var num = 0
  for (var i = document.getElementsByClassName('initialized').length - 1; i >= 0; i--) {
    if( document.getElementsByClassName('initialized')[i].getAttribute('data-query').includes(q.toLowerCase())){
      document.getElementsByClassName('initialized')[i].style.display = "inline-block"
      num += 1
        lazyLoadImages();


    }else{
      document.getElementsByClassName('initialized')[i].style.display = "none"
    }


  }


  results(num )
  lazyLoadImages();


} 

$.fn.attachDragger = function(){
    var attachment = false, lastPosition, position, difference;
    $( $(this).selector ).on("mousedown mouseup mousemove",function(e){
        if( e.type == "mousedown" ) attachment = true, lastPosition = [e.clientX, e.clientY];
        if( e.type == "mouseup" ) attachment = false;
        if( e.type == "mousemove" && attachment == true ){
            position = [e.clientX, e.clientY];
            difference = [ (position[0]-lastPosition[0]), (position[1]-lastPosition[1]) ];
            $(this).scrollLeft( $(this).scrollLeft() - difference[0] );
            $(this).scrollTop( $(this).scrollTop() - difference[1] );
            lastPosition = [e.clientX, e.clientY];
        }
    });
    $(window).on("mouseup", function(){
        attachment = false;
    });
}
$(document).ready(function(){
 $("#tvShows").attachDragger();
});
    

var tvobj = {}

function tvstQ(q){
  q = encodeURIComponent(q);
 var query = 'https://query.yahooapis.com/v1/public/yql?q=' + encodeURIComponent('select all_images.poster from json where url="https://api.tozelabs.com/v2/show?limit=1&q=' +q + '"') + '&format=json&_maxage=36000';


return query;
}


function tvlist(showName){

if (showName in tvobj) {
  return 'Already In.';
}
/*if (localStorage[showName + "_json-image"]) {
    console.log( 'Already In Cache.');

  var image = localStorage[showName + "_json-image"]
    var name = localStorage[showName + "_json-name"]


  document.getElementById('tvShows').innerHTML += '<div tabindex="1" class="tvshow">  <a href="javascript:"  bg="" show="' + name +'" onclick="query(null,this)" ><img width="100%" src="'+image+'"><br></a></div>'
  return ;
}
*/
  tvobj[(showName)] = ''
  var url = tvstQ(showName) 
  fetch(url , {
    method: 'get',
    cache: "force-cache"
}).then(function(response) {
  return response.json();
}).then(function(dat){
document.getElementById('tvShows').innerHTML += '<div tabindex="1" class="tvshow">  <a href="javascript:"  title="'+showName+'" bg="" show="' + showName +'" onclick="query(null,this)" ><img width="100%" alt="'+showName+'" src="'+dat.query.results.json.all_images.poster._[3]+'"><br></a></div>'
// localStorage[showName + "_json-image"] = dat.query.results.json.all_images.poster._[3]
// localStorage[showName + "_json-name"] = dat.query.results.json.all_images.poster._[3]






});
}

function search(val){

function filter(a)
{
    var match = []

    for (var i = 0; i < a.length; i++)
    {
        if ( a[i].metadata.toLowerCase().includes(val.toLowerCase()) ) match.push(a[i])
    }

    return match




}

var result = filter(obj);

if (result.length == 0) {
document.getElementById('carasoul').innerHTML = "No results found :("
	}else{
	loadMedia(result)
}
lazyLoadImages();

	

}

var theflash = 'http://images.cwtv.com/feed/mobileapp/videos/apiversion_7/show_the-flash'
var show_hub = 'http://images.cwtv.com/feed/mobileapp/videos/apiversion_7/show_hub'
var shows = 'http://images.cwtv.com/feed/mobileapp/shows/apiversion_7/channel_cwtv/pagesize_100'
var proxy = 'https://cors-anywhere.herokuapp.com/'
var template = "";
if (!window.fetch) {
	alert('fetch isnt working')
}
function formatDate(date) {
    var d = new Date(date),
        month = '' + (d.getMonth() + 1),
        day = '' + d.getDate(),
        year = d.getFullYear();

    if (month.length < 2) month = '0' + month;
    if (day.length < 2) day = '0' + day;

    return [year, month, day].join('-');
}
// url (required), options (optional)
function fmtMSS(s){return(s-(s%=60))/60+(9<s?':':':0')+Math.trunc(s)}
function rating(rate){
if (rate.includes('tv-14')) {
	return "TV-14"
}
	if (rate.includes('tv-pg')) {
		return "TV-PG"
	}

	if (rate.includes('tv-y7')) {
		return "TV-Y7"
	}


	if(rate.includes('tv-y')){
		return "TV-Y"
	}

	if(rate.includes('tv-g')){
		return "TV-G"
	}

}
var myLazyLoad = new LazyLoad({
    threshold: 500, 
    });


function lazyLoadImages() {
myLazyLoad.update()
}

function loadPlayer(url){
  link = url.href
  window.location = url.href;
  return ; 
$("#myModal").modal()

if (link.includes('cwtv')) {

  // url (required), options (optional)
fetch('http://metaframe.digitalsmiths.tv/v2/CWtv/assets/'+link.split('=')[1]+'/partner/206?format=json', {
  method: 'get'
}).then(function(response) {
  return response.json();
}).then(function(data){
  url = data.videos.variantplaylist.uri
 jwplayer("vplayer").setup({
      file:url,
 });


}).catch(function(err) {
alert('something bad happened :(')});
}
if (link.includes('theplatform')) {
 jwplayer("vplayer").setup({
      file:link.split('?')[1].split('?')[0] + "?mbr=true&manifest=m3u&metafile=false",
      type: "hls"
 });


}
  return false;
}
$(".shows").scroll(function() {
lazyLoadImages();

});


    $('#tvShows').scroll( function() {
        var $width = $('#tvShows').outerWidth()
        var $scrollWidth = $('#tvShows')[0].scrollWidth; 
        var $scrollLeft = $('#tvShows').scrollLeft();
            $('#right-buttontv').css({opacity: 100})

        if ($scrollWidth - $width === $scrollLeft){
            console.log('right end');
            $('#right-buttontv').fadeTo('fast',0 )
        }
                        $('#left-buttontv').css({opacity: 100})

        if ($scrollLeft===0){
            console.log('left end');
                        $('#left-buttontv').fadeTo('fast',0 )

        }
    });

function loadMedia(json){
json = json.sort(function(a, b) {
    a = new Date(a.airdate);
    b = new Date(b.airdate);
    return a>b ? -1 : a<b ? 1 : 0;
})
var	template = ''
 for(i in json){
 function newBanner(){
  var date1 = new Date();    
    var date2 = new Date(json[i].airdate);
    //Customise date2 for your required future time
    
    var diff = (date2 - date1)/1000;
    var diff = Math.abs(Math.floor(diff));
    
    var days = Math.floor(diff/(24*60*60));
    var leftSec = diff - days * 24*60*60;
    
    var hrs = Math.floor(leftSec/(60*60));
    var leftSec = leftSec - hrs * 60*60;
      
    var min = Math.floor(leftSec/(60));
    var leftSec = leftSec - min * 60;

console.log(days)

  if (days <= 1 ) {
    return '<div class="new-label"> New</div>'
  }else{
  return ''
}
 } 

  var perc = 0;
  if(localStorage["?"+json[i].href] ){
    perc = localStorage["?" + json[i].href + "_perc"]
if(perc == "NaN"){
  perc = 0
}
if(perc == undefined){
  perc = 0
}
  }  function showCheck(){
if(parseInt(perc) > 99){
return 1; 
 }
return 0;
  }
  if (!perc == 0) {
if (document.getElementsByClassName(json[i].href).length == 0) {

 //  document.getElementById('watching').innerHTML += '<div tabindex="1" class="wtc '+json[i].href+'"><a onclick="loadPlayer(this)" href="player.html?'+json[i].href+'" ><img width="100%" src="'+json[i].img+'"><div id="projpar" class="w3-progress-container" style=""><div id="progress" class="w3-progressbar" style="width: '+perc+'%;"></div></div><br> <span>'+json[i].show+'</span></a></div>'


   document.getElementById('watching').innerHTML += '<li style="width: 280px;margin: 11px;" class=" card initialized '+json[i].href+'"><div class="piece fanart-container"><div class="image-crop">'+newBanner()+'<a onclick="loadPlayer(this)" href="player.html?'+json[i].href+'"><span class="episode-gradient"></span><img  src="'+json[i].img+'" alt="'+json[i].episode+'" data-original-set="'+json[i].imgdyn+'" class"lazy" class="loaded" ></a><div id="projpar" class="w3-progress-container" style=""><div id="progress" class="w3-progressbar" style="width: '+perc+'%;"></div></div><div class="overlay"><a onclick="loadPlayer(this)" href="player.html?'+json[i].href+'" class="overlay-btn zoom-btn "  title="Watch '+json[i].episode+'"><i class="fa fa-play playbutton"></i></a></div></div><div class="episode-details fanart-details"><h2><a class="episode-name" onclick="loadPlayer(this)" href="player.html?'+json[i].href+'">'+json[i].episode+'</a></h2><a onclick="loadPlayer(this)" href="player.html?'+json[i].href+'" class="secondary-link show-name">'+json[i].show+'</a><a href="javascript:"><i style="    /* opacity: '+showCheck()+'; */color: rgb(127, 218, 99);position: absolute;right: 10px;bottom: 10px;display:none;" class="visited fa fa-check" aria-hidden="true"></i></a></div><div class="bottom"></div></div></li>'

}



  }


  tvlist(json[i].show)
  var query = (json[i].metadata+" "+json[i].episode).toLowerCase();
 timeofPlayback = json[i].length.split(':')[0] + 'm'

  template = template + '<li  class="initialized '+json[i].type+'" data-query="'+query +'"><div  class="piece fanart-container"><div class=image-crop>'+newBanner()+'<a onclick="loadPlayer(this)" href="player.html?'+json[i].href+'"><span class="episode-gradient"></span><img alt="'+json[i].show+'"  data-original="'+json[i].img+'" data-original-set="'+json[i].imgdyn+'" class"lazy" ></a><div id="projpar" class="w3-progress-container" style=""><div id="progress" class="w3-progressbar" style="width: '+perc+'%;"></div></div><div class="overlay"><a onclick="loadPlayer(this)" href="player.html?'+json[i].href+'" class="overlay-btn zoom-btn " title="Watch '+json[i].episode+'"><i class="fa fa-play playbutton"></i></a></div></div><div class="episode-details fanart-details"><h2 ><a class="episode-name" onclick="loadPlayer(this)" href="player.html?'+json[i].href+'">'+json[i].episode+'</a></h2><a onclick="loadPlayer(this)" href="player.html?'+json[i].href+'" class="secondary-link show-name">'+json[i].show +'</a><div class=more-infos></div><p>'+json[i].airdate+' | ' + json[i].rating + ' | '+timeofPlayback +' | '+json[i].epiformat+'</p><i style="opacity:'+showCheck()+';color:rgb(127, 218, 99);"class="visited fa fa-check" aria-hidden="true"></i></div><div class="bottom"><div class="bar"></div><div class="bar"></div><div class="bar"></div></div></div>'
 

 }

      document.getElementById('carasoul').innerHTML = template;
      template = '';




}



function epiformat(s,e){
s = parseInt(s)
e = parseInt(e)
	if (s < 10) {
s = '0' + s
	}
		if (e < 10) {
e = '0' + e
	}

	return 'S' + s + 'E' + e
}
function toTitleCase(str)
{
    return str.replace(/\w\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();});
} 

 function msToTime(duration) {
        var milliseconds = parseInt((duration%1000)/100)
            , seconds = parseInt((duration/1000)%60)
            , minutes = parseInt((duration/(1000*60))%60)
            , hours = parseInt((duration/(1000*60*60))%24);

        hours = (hours < 10) ? "0" + hours : hours;
        minutes = (minutes < 10) ? "0" + minutes : minutes;
        seconds = (seconds < 10) ? "0" + seconds : seconds;

        return  minutes + ":" + seconds ;
    }
var template = "";



	          var obj = []




 var show_hub = 'https://query.yahooapis.com/v1/public/yql?q=' + encodeURIComponent('select * from json where url="' + show_hub+ '"') + '&format=json';


fetch(  show_hub, {
    method: 'get',
    cache: "no-store"
}).then(function(response) {
    return response.json(); 
}).then(function(data){
var start = new Date()
data = data.query.results.json
 for(i in data.videos){
   if(data.videos[i].fullep == 1){
     function millisToMinutesAndSeconds(millis) {
  var minutes = Math.floor(millis / 60000 * 60);
  var seconds = ((millis % 60000) / 1000).toFixed(0);
  return minutes;
}

var epinum = data.videos[i].episode
try{
epinum = data.videos[i].availability_asset_id.split('-')[data.videos[i].availability_asset_id.split('-').length - 1]
var s = (data.videos[i].availability_asset_id.split('-')[data.videos[i].availability_asset_id.split('-').length - 1].split('E')[0].split('S')[1])
var e = (data.videos[i].availability_asset_id.split('-')[data.videos[i].availability_asset_id.split('-').length - 1].split('E')[1])
}catch(e){
console.log(e)
}

var episode_data = {img:data.videos[i].large_thumbnail,
    rating:(data.videos[i].rating),
    imgdyn:'',
    href: data.videos[i].share_url,
    airdate:data.videos[i].airdate,
    show:data.videos[i].series_name,
    episode:data.videos[i].title,
    epiformat:epiformat(s,e),
    length:data.videos[i].duration,
    metadata:data.videos[i].rating + data.videos[i].airdate + data.videos[i].series_name + data.videos[i].title + epinum + data.videos[i].duration,
    type:"cw"
  }

  obj.push(episode_data)




     

   }
   }
      loadMedia(obj)
      lazyLoadImages();

document.getElementById('cw').style.display = "none"
   template = ''
   var end = new Date()



}).catch(function(err) {
console.log(err.message)
});




 






function fox(range){
fetch('https://feed.theplatform.com/f/fox-mobile/fullepisodes?count=true&form=json&byCustomValue={requiresAuth}{false}&range=0-100', {
	method: 'get',
  cache: "no-store"
}).then(function(response) {
	return response.json();
}).then(function(data){
for(i in data.entries){
var date = new Date(data.entries[i].media$availableDate)
var image = data.entries[i].media$thumbnails[5].plfile$url
	image = image.replace('http','https')




 date.setDate(date.getDate()-1);





var srcset = ''
for (var z = data.entries[i].media$thumbnails.length - 1; z >= 0; z--) {
  var img = data.entries[i].media$thumbnails[z].plfile$url
  img = img.replace('http','https')

  srcset +=  img +' ' + data.entries[i].media$thumbnails[z].plfile$width+ 'w ,  ';

}

  obj.push({img:image,
  	rating:rating(data.entries[i].media$ratings[0].rating),
  	href: data.entries[i].media$content[0].plfile$url,
  	airdate:formatDate(date.getTime()),
  	show:data.entries[i].fox$series,
  	episode:data.entries[i].title,
  	epiformat:epiformat(data.entries[i].fox$season,data.entries[i].fox$episode),
  	length:fmtMSS(data.entries[i].media$content[0].plfile$duration),
  	metadata:rating(data.entries[i].media$ratings[0].rating) + formatDate(data.entries[i].media$availableDate) + data.entries[i].fox$series + data.entries[i].title + epiformat(data.entries[i].fox$season,data.entries[i].fox$episode) + fmtMSS(data.entries[i].media$content[0].plfile$duration),
  	type:"fox",
  imgdyn:srcset

  })




   }
   document.getElementById('fox').style.display = "none"
         loadMedia(obj)
lazyLoadImages();


}).catch(function(err) {
console.log(err)
});
}

function procABC(showepi){

for(a in showepi.videos.video){
 var thumb 

	try{

			if (showepi.videos.video[a].hasOwnProperty('thumbnails')) {
			
thumb = showepi.videos.video[a].thumbnails.thumbnail[0].$		}


	 	 	var airdate = formatDate(showepi.videos.video[a].airdates.airdate)



	}catch(e){
console.log(e)
	}
  obj.push({img:thumb,
  	rating:(showepi.videos.video[a].tvrating.rating),
  	href: "abc.go.com/vidcode=" + showepi.videos.video[a]['@id'],
  	airdate:airdate,
  	show:showepi.videos.video[a].show.title,
  	episode:showepi.videos.video[a].title,
  	epiformat:epiformat(showepi.videos.video[a].season.trackcode.generic.cseason,showepi.videos.video[a].number),
  	length:msToTime(showepi.videos.video[a].duration['$']),
  	 metadata:(showepi.videos.video[a].tvrating.rating) + airdate + showepi.videos.video[a].show.title + showepi.videos.video[a].show.title + epiformat(showepi.videos.video[a].season.trackcode.generic.cseason,showepi.videos.video[a].number) + msToTime(showepi.videos.video[a].duration['$']),
  	 type:"abc"
});

}
           loadMedia(obj)
           lazyLoadImages();


}



function useABC(json){

for(i in json.shows.show){
addJS('https://api.watchabc.go.com/vp2/ws/s/contents/2020/videos/jsonp/001/001/-1/'+json.shows.show[i]['@id']+'/-1/-1/-1/-1?callback=procABC')

}





         loadMedia(obj)

}


// addJS('https://api.watchabc.go.com/vp2/ws/s/contents/2020/shows/jsonp/001/001/-1?callback=useABC')

function fancyTimeFormat(time)
{   
    // Hours, minutes and seconds
    var hrs = ~~(time / 3600);
    var mins = ~~((time % 3600) / 60);
    var secs = Math.floor(time % 60);

    // Output like "1:01" or "4:03:59" or "123:03:59"
    var ret = "";

    if (hrs > 0) {
        ret += "" + hrs + ":" + (mins < 10 ? "0" : "");
    }

    ret += "" + mins + ":" + (secs < 10 ? "0" : "");
    ret += "" + secs;
    return ret;
}




/*
fetch(proxy + 'http://www.adultswim.com/videos/api/v2/videos?fields=title,season_number,collection_title,episode_number,episode,auth,duration,tv_rating,launch_date,type,images,episode,images,title&limit=80&offset=0&sortByDate=DESC&filterByEpisodeType=EPI,TVE&filterByAuthType=true&filterByPlatform=mobile&q=type:episode', {
    method: 'get',
    cache: "no-store"
}).then(function(response) {
    return response.json(); 
}).then(function(data){
var start = new Date()

 for(i in data.data){
     function millisToMinutesAndSeconds(millis) {
  var minutes = Math.floor(millis / 60000 * 60);
  var seconds = ((millis % 60000) / 1000).toFixed(0);
  return minutes;
}

var epinum 
try{
epinum = "S" +data.data[i].season_number +"E" +data.data[i].episode_number

}catch(e){
console.log(e) 
}



  obj.push({img:data.data[i].images[0].url,
    rating:(data.data[i].tv_rating),
    href: "asdir=" +data.data[i].id,
    airdate:formatDate(data.data[i].launch_date),
    show:data.data[i].collection_title,
    episode:data.data[i].title,
    epiformat:epinum,
    length:fancyTimeFormat(data.data[i].duration),
    metadata:data.data[i].tv_rating + data.data[i].launch_date + data.data[i].collection_title + data.data[i].title + epinum + data.data[i].duration,
    type:"adultswim"
  })

 
   }
      loadMedia(obj)
      lazyLoadImages();

   template = ''
   var end = new Date()



}).catch(function(err) {
console.log(err.message)
});



*/








   fox('0-25')
//$('#myModal').on('hidden.bs.modal', function () {
//jwplayer().stop();
//});

</script>
<script type="text/javascript">

</script>
</body></html>