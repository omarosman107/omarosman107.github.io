<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.5/css/bootstrap.min.css" integrity="sha384-AysaV+vQoT3kOAXZkl02PThvDr8HYKPZhNT5h/CXfBThSRXQ6jW5DO2ekP5ViFdi" crossorigin="anonymous">

<link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/fetch/1.0.0/fetch.min.js"></script>

<style>



 body {

 }
h1 {

}

.jumbotron {

  text-align: center;
}
div#channelimg {
    width: 50%;
}
</style>
<meta name="apple-mobile-web-app-status-bar-style" content="black" />

<meta name="apple-mobile-web-app-capable" content="yes">

<meta name="apple-mobile-web-app-title" content="YT SubCount" />

<meta name=viewport content="width=device-width, initial-scale=1, shrink-to-fit=no">


  <title>YT sub</title>
</head>
<body>


<div class="jumbotron">


  <h1 id="div" >
    load css fast in javascript
   </h1>
<p class="lead">
  function loadCSS(e,t,n){"use strict";var i=window.document.createElement("link");var o=t||window.document.getElementsByTagName("script")[0];i.rel="stylesheet";i.href=e;i.media="only x";o.parentNode.insertBefore(i,o);setTimeout(function(){i.media=n||"all"})}
  loadCSS("");  </p>
  <h1 id="tview" >
    Youtube V3 Api Get Details
  </h1>
  <p class="lead">
    https://www.googleapis.com/youtube/v3/channels?part=statistics&id=UC5uDqiEEXm_3Vsrl-5F2V7g&fields=items/statistics&key=AIzaSyDEoLUnWe9oL-3jyscdTg-gQd4DLRx72mo

  </p>
  <hr class="m-y-2" />

  <div class="form-group">
    <input type="text" class="form-control" value="" id="ytchannelid" oninput="loadsub();" placeholder="Enter Channel Name">
  </div>

  <button onclick=loadsub() type="button" class="btn btn-primary">Load Info</button>
</div>
<table class="table table-hover">
  <thead>
    <tr>
      <th>Profile</th>
      <th>Channel Name</th>
      <th>Subs</th>
      <th>Total Views</th>
    </tr>
  </thead>
  <tbody>
    <tr>

      <th scope="row"><div id="channelimg">
        <a id="link" href="https://www.youtube.com/channel/UCCs75eiciLbzwew0ukOaDZQ">

        <img height="100%" width="100%" id="channelprofile" src=""></div></th>
      <td><div id="channeln"></div>    </a>
</td>
      <td><div id="channelsub"></div></td>
      <td><div id="channelview"></div>
</td>
    </tr>

  </tbody>
</table>
<script>

var namelink1 = ("https://www.googleapis.com/youtube/v3/search?part=snippet&q=");
var namelink2 = ("&type=channel&maxResults=50&key=AIzaSyCrIMmwqmqGYvrOV-AgFBoLPxrTRRfqkY4")

var link1 = ("https://www.googleapis.com/youtube/v3/channels?part=statistics,snippet&id=");
var link2 = ("&fields=items/snippet/thumbnails/high/url,items/statistics/subscriberCount,items/snippet/localized/title,items/statistics/viewCount&key=AIzaSyANLBp5fHf-XEsQnksu_-ygJMHviGQO7TY")




var profile =  document.getElementById('channelprofile');
var name =  document.getElementById('channeln');
var subs =  document.getElementById('channelsub');
var views =  document.getElementById('channelview');
var ytid =  document.getElementById('ytchannelid');

var link =  document.getElementById('link');






function loadsub() {


fetch(
       namelink1 + ytid.value + namelink2
  ).then(function(response) {
      // Convert to JSON
      return response.json();
  }).then(function(convert) {

link.href = "https://youtube.com/channel/" + convert.items[0].snippet.channelId;




fetch(
       link1 + convert.items[0].snippet.channelId + link2
  ).then(function(response) {
      // Convert to JSON
      return response.json();
  }).then(function(data) {


           document.getElementById('channeln').innerHTML = data.items[0].snippet.localized.title;

              subs.innerHTML = data.items[0].statistics.subscriberCount;
                              views.innerHTML = data.items[0].statistics.viewCount;
                          profile.src = data.items[0].snippet.thumbnails.high.url;










  });

});

}






</script>
</body>
  </html>
