<!DOCTYPE html>
<html>
<head>
	<title>Athan Times</title>
	   <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">

	<style type="text/css"> 
	@import url("https://fonts.googleapis.com/css?family=Quicksand:300,400,500,700");
.main {
width: 90%;
height: 84vh;
background: white;
margin: auto;
margin-top: 70px;
box-shadow: rgba(82, 33, 199, 0.32) 0px 2px 20px 0px;

}
body{
	    background: #f4f4f4;
	    margin: 0;
	    color: white;
	        text-transform: uppercase;


}
.top {
	background: black;
	height: 75%;
	margin: auto;
	font-size: 11em;
	text-align: center;
	background:url(https://images.unsplash.com/photo-1487621167305-5d248087c724?ixlib=rb-0.3.5&q=85&fm=jpg&crop=entropy&cs=srgb&s=6f03a691b736b1606598835c44ca417d);
	    background-size: cover;
	    font-family: Ostrich Sans Inline;
}
.prayers {
	    font-size: 18px;
	display: inline-block;
	width: 19%;
    height: 120px;
    color: #787878;
            text-align: center;
            padding-top: 2%;
    font-family: Quicksand;
    font-weight: 600;
}
.prayers span{
	        font-size: 4em !important;
	        display: block;
	        font-family: Ostrich Sans Rounded;
	        font-weight: bolder;
	            color: #565656;

}
.times{
	margin:10px;

}

.overlay {
    width: 100%;
    height: 100%;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
        z-index: 2;
	}
	</style>

<link rel="stylesheet" type="text/css" href="fonts/font.css">
</head>
<body>
<div class="main">
	
	<div class="top">
	<div class="overlay"><div id="currentTime" style="
    position: absolute;
    font-size: -webkit-xxx-large;
    font-family: Ostrich Sans;
    padding: 15px;
"></div>
	<span style=" 
    position: relative;
    bottom: -80px;font-weight: 700;font-size: 2em;" id="left"></span>
    <span style="font-size: 40px;
    display: block;
    line-height: 6em;color: rgba(255, 255, 255, 0.49);">Until iftar</span>
</div>
	</div>
	<div class="times">
		<div class="prayers">Fajr<span id="fajr"></span></div>
		<div class="prayers">Dhuhr<span id="duhur"></span></div>
		<div class="prayers">Asr<span id="asr"></span></div>
		<div class="prayers">Maghrib<span id="maghrib"></span></div>
		<div class="prayers">Isha<span id="isha"></span></div>

	</div>
</div>
<script type="text/javascript">
var url = 'http://api.aladhan.com/timingsByCity?city=Lansing&country=US&method=2'
function getTimeRemaining(endtime){
  var t = Date.parse(endtime) - Date.parse(new Date());
  var seconds = Math.floor( (t/1000) % 60 );
  var minutes = Math.floor( (t/1000/60) % 60 );
  var hours = Math.floor( (t/(1000*60*60)) % 24 );
  var days = Math.floor( t/(1000*60*60*24) );
  return {
    'total': t,
    'days': days,
    'hours': hours,
    'minutes': minutes,
    'seconds': seconds
  };
}

  var xhttp = new XMLHttpRequest();
  xhttp.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
    	var data = JSON.parse(this.responseText)
  	var fajr = new Date(data.data.timings.Fajr +" "+data.data.date.readable)
  	var duhur = new Date(data.data.timings.Dhuhr +" "+data.data.date.readable)
  	var asr = new Date(data.data.timings.Asr +" "+data.data.date.readable)
  	var maghrib = new Date(data.data.timings.Maghrib +" "+data.data.date.readable)
  	var isha = new Date(data.data.timings.Isha +" "+data.data.date.readable)
  	console.log(fajr.getHours(),fajr.getMinutes())
function formatAMPM(date) {
  var hours = date.getHours();
  var minutes = date.getMinutes();
  var ampm = hours >= 12 ? 'pm' : 'am';
  hours = hours % 12;
  hours = hours ? hours : 12; // the hour '0' should be '12'
  minutes = minutes < 10 ? '0'+minutes : minutes;
  var strTime = hours + ':' + minutes + ' ' + ampm;
  return strTime;
}
console.log(formatAMPM(fajr))

    	document.getElementById('fajr').innerHTML = formatAMPM(fajr)
    	    	document.getElementById('duhur').innerHTML = formatAMPM(duhur);
    	    	    	document.getElementById('asr').innerHTML = formatAMPM(asr)
    	    	    	    	document.getElementById('maghrib').innerHTML = formatAMPM(maghrib);
    	    	    	    	    	document.getElementById('isha').innerHTML = formatAMPM(isha);

var end = maghrib

    var _second = 1000;
    var _minute = _second * 60;
    var _hour = _minute * 60;
    var _day = _hour * 24;
    var timer;

    function showRemaining() {
    	document.getElementById('currentTime').innerHTML = formatAMPM(new Date())
        var now = new Date();
        var distance = end - now;
        if (distance < 0) {

            clearInterval(timer);
            document.getElementById('left').innerHTML = 'EXPIRED!';

            return;
        }
        var days = Math.floor(distance / _day);
        var hours = Math.floor((distance % _day) / _hour);
        var minutes = Math.floor((distance % _hour) / _minute);
        var seconds = Math.floor((distance % _minute) / _second);
        if (hours < 10) {
        	hours = '0' + hours
        }
           if (minutes < 10) {
        	minutes = '0' + minutes
        }
           if (seconds < 10) {
        	seconds = '0' + seconds
        }



        document.getElementById('left').innerHTML = hours + ":" + minutes + ':' + seconds

    }
showRemaining()
    timer = setInterval(showRemaining, 1000);







    }
  };
  xhttp.open("GET", url, true);
  xhttp.send();
</script>
</body>
</html> 